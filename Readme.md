# RESTful сервис на FastAPI и Redis

Этот проект представляет собой RESTful сервис, реализованный с использованием [FastAPI](https://fastapi.tiangolo.com/) и [Redis](https://redis.io/) для хранения и извлечения данных. Сервис предоставляет эндпоинты для записи и обновления данных (номера телефонов и адреса), а также для получения данных на основе номеров телефонов.

## Содержание

- [Обзор](#обзор)
- [Требования](#требования)
- [Настройка](#настройка)
- [Эндпоинты](#эндпоинты)
  - [1. Write Data (запись данных)](#1-write-data-запись-данных)
  - [2. Check Data (проверка данных)](#2-check-data-проверка-данных)
- [Сценарии использования](#сценарии-использования)
- [Комментарии и интерпретации](#комментарии-и-интерпретации)


## Обзор

Этот RESTful сервис позволяет клиентам сохранять и получать данные об адресах, связанные с номерами телефонов, используя простой API. В качестве хранилища данных используется Redis, где номера телефонов служат ключами, а адреса — значениями. Сервис упакован в Docker для облегчения развертывания и масштабирования.

## Требования

- Docker
- Docker Compose

## Настройка

1. **Клонируйте репозиторий:**

   ```bash
   git clone https://github.com/headrobot790/test_lexicom.git

2. **Соберите и запустите сервисы с помощью Docker Compose:**
   ```bash
   docker-compose up --build

3. **Доступ к API:**
    Сервис FastAPI будет доступен по адресу http://localhost:8000 по умолчанию.
    
4. **Документация API:**
    FastAPI предоставляет интерактивную документацию API, доступную по следующим адресам:
    Swagger UI: http://localhost:8000/docs
    ReDoc: http://localhost:8000/redoc

## Эндпоинты
1. write_data
    - Эндпоинт: POST /write_data
    - Описание: Сохранить или обновить номер телефона и связанный с ним адрес в Redis.
    - Тело запроса:
   
    ```bash
    {
      "phone": "89090000000",
      "address": "Некоторый текстовый адрес"
    }
    ```
- Ответ: Подтверждение, что данные были сохранены или обновлены.
2. check_data 
   - Эндпоинт: GET /check_data
   - Описание: Получить адрес, связанный с номером телефона, из Redis.
   - Параметры запроса:
   phone (обязательный): Номер телефона для поиска в Redis.
   Пример запроса: GET /check_data?phone=89090000000
   Ответ: Адрес, связанный с предоставленным номером телефона.
   Сценарии использования
   
- Сценарий проверки данных:

    Клиент отправляет GET-запрос на http://localhost:8000/check_data?phone=89090000000
Сервис ищет номер телефона в Redis, получает связанный адрес и возвращает его в ответе.
Сценарий записи данных:

    Клиент отправляет POST-запрос на http://localhost:8000/write_data с JSON-данными, содержащими номер телефона и адрес.
Сервис сохраняет номер телефона и адрес в Redis. Если номер телефона уже существует, адрес обновляется на новое значение.
Сценарий обновления адреса:

    Клиент отправляет PUT-запрос на http://localhost:8000/write_data с JSON-данными, содержащими существующий номер телефона и новый адрес.
Сервис обновляет существующую запись в Redis новым адресом.
### Комментарии и интерпретации
- Хранение данных: Redis используется в качестве хранилища ключ-значение. Номера телефонов выступают в роли ключей, а адреса сохраняются 
как значения.
- Dockerized Setup: Весь сервис упакован в Docker, что облегчает его развертывание и масштабирование. Redis и FastAPI работают в 
  отдельных контейнерах, что позволяет управлять ими независимо.